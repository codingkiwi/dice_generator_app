<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dice Generator</title>
    <style type="text/css">
    
    .d6_dice{
        margin: 0;
    	padding: 0;
    }
    
    .d6{
        width:64px;
    	height:64px;
    	text-decoration:none;
    	list-style-type:none;
    	float: left;
    	background-image:url(images/d6_flat_faces_small.png);   
    }
    .d6_1{background-position: 0 0;}
    .d6_2{background-position: 130px 0;}
    .d6_3{background-position: 65px 0;}
    .d6_4{background-position: 0 65px;}
    .d6_5{background-position: 130px 65px;}
    .d6_6{background-position: 65px 65px;}
    
    </style>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    
</head>

<body>

    <select id="numberOfDice">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
    </select>
    
    <select id="diceType">
        <option value="6">D6</option>
        <option value="3">D3</option>
    </select>
    
    <button id="rollButton" type="button">Roll Dice</button>
    
    <!-- Div to output dice total dynamically -->
    <div id="diceTotal">
    </div>
    
    <!-- Div to output dice images dynamically -->
    <div id="mainContent">
        <ul class="d6_dice" id="dicelist">
        </ul>
    </div>
    
    <script> 
        
        //Randomly generates numbers for the dice and returns an array of their values
        function rollDice(amountOfDice, diceFace){
            var diceNumber = [];
            
            if(diceFace == 3){
                for (var i = 0; i < amountOfDice; i++){
                    diceNumber[i] = Math.round(Math.floor(Math.random() * 3)) + 1; 
                }
            }
            else{
                for (var j = 0; j < amountOfDice; j++){
                    diceNumber[j] = Math.round(Math.floor(Math.random() * 6)) + 1; 
                }
            }
            diceNumber.sort(function(a,b){return b-a});
            return diceNumber;
        }
        
        // removes the current dice and calls rollDice, then adds the new dice to the page
        function reRoll(diceAmount, typeOfDice) {
            //remove the previous dice list
            $("#dicelist").empty();
            
            //re-roll and re-insert new dice
            var number = rollDice(diceAmount, typeOfDice);
            var diceTotal = 0;
            
            //print HTML for new dice list
            for(var i = 0; i < diceAmount; i++){
                $("#dicelist").append("<li class=\"d6 d6_" + number[i] + "\"><a href=\"#6\"></a></li>");
                diceTotal = diceTotal + number[i];
            }
            $("#dicelist").append("</ul>");
    
            //print HTML for dice total score
            $("#diceTotal").empty();
            $("#diceTotal").append("<h2>Total: " + diceTotal);
            return false;
        }
        
        // initialization function
        function pageInit() {
            // Hook up the roll dice function to be triggered when a user clicks in the dice div area
            $("#rollButton").click(function(){
                var numberOfDice = $("#numberOfDice").val();
                var diceType = $("#diceType").val();
                reRoll(numberOfDice, diceType);
            });
        }
        pageInit();

    </script>

</body>
</html>
